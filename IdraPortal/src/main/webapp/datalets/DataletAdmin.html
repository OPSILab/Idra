<!--
  Idra - Open Data Federation Platform
   Copyright (C) 2018 Engineering Ingegneria Informatica S.p.A.
   
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  at your option) any later version.
   
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.
   
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<!-- Mandatory for Datalets -->	
<script type="text/javascript" src="https://cdn.jsdelivr.net/webcomponentsjs/0.7.16/webcomponents-lite.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

<div>
<ul class="breadcrumb">
  <li class="breadcrumb-item"><a href="#metadata">Home</a></li>
  <li class="breadcrumb-item active">{{'manageDatalet' | translate}}</li>
</ul>

<div class="table-responsive">
<table st-table="displayedCollection" st-safe-src="dataletsSafeSrc" class="table table-striped">
	<thead>
	<tr>
		<th st-sort="title" st-sort-default="false" style="width:10%">{{'Title' | translate}}</th>
		<th st-sort="nodeID" style="width:10%">{{'catalogue' | translate}}</th>
		<th st-sort="datasetID" style="width:10%">Dataset</th>
		<th st-sort="distributionID" style="width:12%">Distribution</th>
		<th st-sort="registerDate" style="width:20%">{{'registered' | translate}}</th>
		<th st-sort="views" style="width:10%">{{'views' | translate}}</th>
		<th st-sort="lastSeenDate" style="width:20%">{{'lastSeen' | translate}}</th>
		<th style="width:13%"></th>
	</tr>
	<tr>
          <th>
            <input placeholder="{{'searchTitle' | translate}}" class="form-control" st-search="title" />
          </th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
        </tr>
	</thead>
	<tbody >
	<tr ng-repeat="datalet in displayedCollection track by datalet.id" >
		<td>
			{{datalet.title}}
		</td>
		<td>
			{{datalet.nodeID}}
		</td>
		<td>
			{{datalet.datasetID | limitTo:10}}{{datalet.datasetID.length > 10 ? '...' : ''}}
			<md-tooltip ng-show="datalet.datasetID.length > 10">{{datalet.datasetID}}</md-tooltip>
		</td>
		<td>
			{{datalet.distributionID | limitTo:10}}{{datalet.distributionID.length > 10 ? '...' : ''}}
			<md-tooltip ng-show="datalet.distributionID.length > 10">{{datalet.distributionID}}</md-tooltip>
		</td>
		<td>{{datalet.registerDate | date:'yyyy-MM-dd HH:mm:ss'}}</td>
		<td>
			{{datalet.views}}
		</td>
		<td>{{datalet.lastSeenDate | date:'yyyy-MM-dd HH:mm:ss'}}</td>
		<td>
        	<div class="buttons">
<!--           	<a href="javascript:void(0)" class="btn-flat mdi-material-deep-orange"  ng-click="synchroDatalet(datalet)"><i class="mdi-action-autorenew"></i></a> -->
<!--           	<a href="javascript:void(0)" class="btn-flat mdi-material-deep-orange" ng-click="updateDatalet(datalet)"><i class="mdi-content-create"></i></a> -->
			<a href="javascript:void(0)" class="btn-flat " ng-click="previewDatalet(datalet)"><i class="mdi-action-open-in-browser"></i></a>
          	<a href="javascript:void(0)" class="btn-flat " ng-click="deleteDatalet(datalet)"><i class="mdi-content-clear"></i></a>
        	</div>  
      </td>
	</tr>	
	</tbody>
	<tfoot>
			<tr>
			<td>
				<div st-pagination="" st-items-by-page="itemsByPage" st-template="CustomPagination.html"></div>
			</td>
			</tr>
	</tfoot>
</table>

</div>
